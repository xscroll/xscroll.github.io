<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<meta name="spm-id" content="a222r.7714867">
<meta name="aplus-terminal" content="1">
<meta name="aplus-touch" content="1">
<style type="text/css">
* {
	margin:0;
	padding: 0;
}
li{
	display: block;
	line-height: 50px;
	/*border: 1px solid;*/
}
#scroll{
	position: absolute;
	width:100%;
	height: 100%;
	overflow-x: hidden;
	overflow-y:scroll; 
	-webkit-overflow-scrolling:touch;
}
a{
	display: block;
}
.xs-fixed{
	width: 100%;
	position: fixed;
	line-height: 50px;
	background: red;
	/*border: 1px solid;*/
}
.xs-sticky{
	background: #f60;
	line-height: 50px;
	/*border: 1px solid;*/
}
.outer-sticky-container{
	z-index: 9999;
	position: absolute;
}
</style>
</head>
<body>
	<div class="outer-sticky-container"></div>
<div id="scroll" data-spm="7406091">
	<div class="xs-container">
		<div class="xs-content">
			<ul>
				<li class="xs-sticky"><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io 1</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io 2</a></li>
				<li class="xs-fixed"><a href="//xscroll.github.io">xscroll.github.io 3</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io 4</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io 5</a></li>
				<li class="xs-fixed"><a href="//xscroll.github.io">xscroll.github.io 6</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io 7</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io 8</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io 9</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io 10</a></li>
				<li class="xs-sticky"><a href="//xscroll.github.io">xscroll.github.io 11</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io 12</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io 13</a></li>
				<li class="xs-sticky"><a href="//xscroll.github.io">xscroll.github.io 14</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io 15</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
				<li><a href="//xscroll.github.io">xscroll.github.io</a></li>
			</ul>
		</div>
	</div>
</div>

<script src="../../lib/sea.js"></script>
<script>
	seajs.config({
      base: "../../build/cmd/",
      map: [
        [".js", ".js?" + new Date().getTime()]

        ]
    })


    function Component(cfg){
    	this.init.call(this,cfg);
    }

    Component.prototype = {
    	init:function(cfg){
    		this.cfg = cfg;
    		this.el = cfg.el;
    		this.el.querySelector("a").innerHTML += " inited";
    		this.el.addEventListener("click",this.onClick,false);
    	},
    	onClick:function(e){
    		e.preventDefault()
    		// console.log(e.currentTarget.innerHTML)
    	}
    }


    seajs.use(["xscroll","util","plugins/pulldown"],function(XScroll,Util,PullDown){

    	var xscroll = new XScroll({
    		renderTo:"#scroll",
    		stickyRenderTo:".outer-sticky-container",
    		useOriginScroll:true
    	})

    	var els = xscroll.renderTo.querySelectorAll(".xs-fixed,.xs-sticky");
    	for(var i = 0;i < els.length;i++){
    		new Component({el:els[i]});
    	}

    	xscroll.on("fixedchange",function(e){
    		new Component({el:e.fixedElement});
    	})

    	xscroll.on("stickychange",function(e){
    		if(!e.isRender){
    			new Component({el:e.stickyElement});
    		}
    		
    	})

    	xscroll.plug(new PullDown())

    	xscroll.render();

    	document.addEventListener("click",function(e){
    		e.preventDefault();
    	})
    	
    	window.xscroll = xscroll

    	xscroll.on("scroll",function(e){
    		// console.log(e.scrollTop)
    	})


    })
</script>