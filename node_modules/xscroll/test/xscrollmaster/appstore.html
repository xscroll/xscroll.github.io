<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<script type="text/javascript">
! function() {
    function a() {
        document.documentElement.style.fontSize = document.documentElement.clientWidth / 16 + "px"
    }
    var b = null;
    window.addEventListener("resize", function() {
        clearTimeout(b), b = setTimeout(a, 300)
    }, !1), a()
}(window);
</script>
<style type="text/css">
* {
	margin:0;
	padding: 0;
}
li{
	display: block;
	line-height: 200px;
}
li.title{
	line-height: 100px;
}

/*.xs-content,.xs-container{*/
	/*position: absolute;*/
	/*min-width: 100%;*/
	/*min-height: 100%;*/
/*}*/

#scroll{
	position: absolute;
	width:100%;
	height: 100%;
	overflow-x:hidden;
	overflow-y: scroll;
	-webkit-overflow-scrolling:touch;
}


#slider{
	width: 100%;
	position: relative;
	height: 200px;
	font-size: 0;
	overflow-x: scroll;
	overflow-y:hidden;
	-webkit-overflow-scrolling:touch;
	white-space: nowrap;
	z-index: 1;
}

#slider .item{
	display: inline-block;
	height: 200px;
	font-size: 20px;
	width: 16rem;
	vertical-align: top;
}

/*#slider .xs-container{*/
	/*position: absolute;*/
	/*width: 100%;
/*}*/
#slider .xs-content{
	/*width: auto;*/
	position: absolute;
}
.icon-wrapper{
	position: relative;
	white-space: nowrap;
	font-size: 0;
	height: 4rem;
	overflow-x: scroll;
	overflow-y:hidden;
	-webkit-overflow-scrolling:touch;
}
.icon-wrapper .xs-content{
	position: absolute;
}
.icon-wrapper ul .icon{
	display: inline-block;
	width: 3rem;
	height: 3rem;
	margin:.5rem;
	-webkit-border-radius:.8rem;
	-webkit-box-shadow:0px 0px 3px #ccc;
}
#content{
	overflow-x:hidden;
}

/*#content .xs-container,#content .xs-content{
	width: 100%;
}*/

</style>
</head>
<body>
<div id="scroll" class="xscroll" xs-cfg='{"useTransition":true}'>
	<div class="xs-container">
		<div class="xs-content">
			<div id="slider" class="xscroll"  xs-cfg='{"scrollbarX":false}'>
				<div class="xs-container">
					<div class="xs-content">
						<div class="item" style="background:blue;">1</div>
						<div class="item" style="background:red;">2</div>
						<div class="item" style="background:green;">3</div>
						<div class="item" style="background:black;">4</div>
						<div class="item" style="background:yellow;">5</div>
					</div>
				</div>
			</div>
			<div id="content" class="xscroll" xs-cfg='{"scrollbarY":false}'>
				<div class="xs-container">
					<div class="xs-content">
						<ul>
							<li class="title">Office</li>
							<li>
								<div  class="xscroll icon-wrapper"  xs-cfg='{"scrollbarX":false}'>
									<div class="xs-container">
										<div class="xs-content">
											<ul>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
											</ul>
										</div>
									</div>
								</div>
							</li>

							<li class="title">Office</li>
							<li>
								<div  class="xscroll icon-wrapper" xs-cfg='{"scrollbarX":false}'>
									<div class="xs-container">
										<div class="xs-content">
											<ul>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
											</ul>
										</div>
									</div>
								</div>
							</li>
							
							<li class="title">Office</li>
							<li>
								<div  class="xscroll icon-wrapper" xs-cfg='{"scrollbarX":false}'>
									<div class="xs-container">
										<div class="xs-content">
											<ul>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
											</ul>
										</div>
									</div>
								</div>
							</li>

							<li class="title">Office</li>
							<li>
								<div  class="xscroll icon-wrapper" xs-cfg='{"scrollbarX":false}'>
									<div class="xs-container">
										<div class="xs-content">
											<ul>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
											</ul>
										</div>
									</div>
								</div>
							</li>

							<li class="title">Office</li>
							<li>
								<div  class="xscroll icon-wrapper">
									<div class="xs-container">
										<div class="xs-content">
											<ul>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
											</ul>
										</div>
									</div>
								</div>
							</li>

							<li class="title">Office</li>
							<li>
								<div  class="xscroll icon-wrapper">
									<div class="xs-container">
										<div class="xs-content">
											<ul>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
												<li class="icon">icon</li>
											</ul>
										</div>
									</div>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<script src="../../lib/sea.js"></script>
<script>
	seajs.config({
		base: "../../build/cmd/",
		 map: [
        [".js", ".js?" + new Date().getTime()]
      ]
	})

	seajs.use(["xscroll-master","plugins/snap","xscroll"], function(XScrollMaster,Snap,XScroll) {
		function rem2px(rem){
	        return rem * document.documentElement.style.fontSize.replace("px","");
	    }

		var master = new XScrollMaster({
			selector:'.xscroll'
		});
		master.render();

		var slider = master.get("slider");

		slider.plug(new Snap({
			snapWidth:rem2px(16),
			snapColsNum:5
		}))

		slider.render();

		window.addEventListener("resize",function(){
			slider.getPlugin("snap").userConfig.snapWidth = rem2px(16);
			setTimeout(function(){
				slider.render();
			},100)
		})


	})
</script>